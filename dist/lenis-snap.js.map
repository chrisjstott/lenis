{"version":3,"sources":["../packages/snap/src/debounce.ts","../packages/snap/src/element.ts","../packages/snap/src/uid.ts","../packages/snap/src/index.ts"],"sourcesContent":["export function debounce<CB extends (...args: any[]) => void>(\n  callback: CB,\n  delay: number\n) {\n  let timer: number | undefined\n  return function <T>(this: T, ...args: Parameters<typeof callback>) {\n    let context = this\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n      timer = undefined\n      callback.apply(context, args)\n    }, delay)\n  }\n}\n","function removeParentSticky(element: HTMLElement) {\n  const position = getComputedStyle(element).position\n\n  const isSticky = position === 'sticky'\n\n  if (isSticky) {\n    element.style.setProperty('position', 'static')\n    element.dataset.sticky = 'true'\n  }\n\n  if (element.offsetParent) {\n    removeParentSticky(element.offsetParent as HTMLElement)\n  }\n}\n\nfunction addParentSticky(element: HTMLElement) {\n  if (element?.dataset?.sticky === 'true') {\n    element.style.removeProperty('position')\n    delete element.dataset.sticky\n  }\n\n  if (element.offsetParent) {\n    addParentSticky(element.offsetParent as HTMLElement)\n  }\n}\n\nfunction offsetTop(element: HTMLElement, accumulator = 0) {\n  const top = accumulator + element.offsetTop\n  if (element.offsetParent) {\n    return offsetTop(element.offsetParent as HTMLElement, top)\n  }\n  return top\n}\n\nfunction offsetLeft(element: HTMLElement, accumulator = 0) {\n  const left = accumulator + element.offsetLeft\n  if (element.offsetParent) {\n    return offsetLeft(element.offsetParent as HTMLElement, left)\n  }\n  return left\n}\n\nfunction scrollTop(element: HTMLElement, accumulator = 0) {\n  const top = accumulator + element.scrollTop\n  if (element.offsetParent) {\n    return scrollTop(element.offsetParent as HTMLElement, top)\n  }\n  return top + window.scrollY\n}\n\nfunction scrollLeft(element: HTMLElement, accumulator = 0) {\n  const left = accumulator + element.scrollLeft\n  if (element.offsetParent) {\n    return scrollLeft(element.offsetParent as HTMLElement, left)\n  }\n  return left + window.scrollX\n}\n\nexport type SnapElementOptions = {\n  align?: string[]\n  ignoreSticky?: boolean\n  ignoreTransform?: boolean\n}\n\ntype Rect = {\n  top: number\n  left: number\n  width: number\n  height: number\n  x: number\n  y: number\n  bottom: number\n  right: number\n  element: HTMLElement\n}\n\nexport class SnapElement {\n  element: HTMLElement\n  options: SnapElementOptions\n  align: string[]\n  // @ts-ignore\n  rect: Rect = {}\n  wrapperResizeObserver: ResizeObserver\n  resizeObserver: ResizeObserver\n\n  constructor(\n    element: HTMLElement,\n    {\n      align = ['start'],\n      ignoreSticky = true,\n      ignoreTransform = false,\n    }: SnapElementOptions = {}\n  ) {\n    this.element = element\n\n    this.options = { align, ignoreSticky, ignoreTransform }\n\n    // this.ignoreSticky = ignoreSticky\n    // this.ignoreTransform = ignoreTransform\n\n    this.align = [align].flat()\n\n    // TODO: assing rect immediately\n\n    this.wrapperResizeObserver = new ResizeObserver(this.onWrapperResize)\n    this.wrapperResizeObserver.observe(document.body)\n    this.onWrapperResize()\n\n    this.resizeObserver = new ResizeObserver(this.onResize)\n    this.resizeObserver.observe(this.element)\n    this.setRect({\n      width: this.element.offsetWidth,\n      height: this.element.offsetHeight,\n    })\n  }\n\n  destroy() {\n    this.wrapperResizeObserver.disconnect()\n    this.resizeObserver.disconnect()\n  }\n\n  setRect({\n    top,\n    left,\n    width,\n    height,\n    element,\n  }: {\n    top?: number\n    left?: number\n    width?: number\n    height?: number\n    element?: HTMLElement\n  } = {}) {\n    top = top ?? this.rect.top\n    left = left ?? this.rect.left\n    width = width ?? this.rect.width\n    height = height ?? this.rect.height\n    element = element ?? this.rect.element\n\n    if (\n      top === this.rect.top &&\n      left === this.rect.left &&\n      width === this.rect.width &&\n      height === this.rect.height &&\n      element === this.rect.element\n    )\n      return\n\n    this.rect.top = top\n    this.rect.y = top\n    this.rect.width = width\n    this.rect.height = height\n    this.rect.left = left\n    this.rect.x = left\n    this.rect.bottom = top + height\n    this.rect.right = left + width\n  }\n\n  onWrapperResize = () => {\n    let top, left\n\n    if (this.options.ignoreSticky) removeParentSticky(this.element)\n    if (this.options.ignoreTransform) {\n      top = offsetTop(this.element)\n      left = offsetLeft(this.element)\n    } else {\n      const rect = this.element.getBoundingClientRect()\n      top = rect.top + scrollTop(this.element)\n      left = rect.left + scrollLeft(this.element)\n    }\n    if (this.options.ignoreSticky) addParentSticky(this.element)\n\n    this.setRect({ top, left })\n  }\n\n  onResize = ([entry]: ResizeObserverEntry[]) => {\n    if (!entry?.borderBoxSize[0]) return\n    const width = entry.borderBoxSize[0].inlineSize\n    const height = entry.borderBoxSize[0].blockSize\n\n    this.setRect({ width, height })\n  }\n}\n","let index = 0\n\nexport type UID = number\n\nexport function uid(): UID {\n  return index++\n}\n","import Lenis, { type UserData } from 'lenis'\nimport { debounce } from './debounce'\nimport type { SnapElementOptions } from './element'\nimport { SnapElement } from './element'\nimport type { SnapItem, SnapOptions } from './types'\nimport type { UID } from './uid'\nimport { uid } from './uid'\n\n// TODO:\n// - horizontal\n// - fix trackpad snapping too soon due to velocity (fuck Apple)\n// - fix wheel scrolling after limits (see console scroll to)\n// - fix touch scroll, do not snap when not released\n// - arrow, spacebar\n\n// Types\nexport * from './types'\n\ntype RequiredPick<T, F extends keyof T> = Omit<T, F> & Required<Pick<T, F>>\n\n/**\n * Snap class to handle the snap functionality\n *\n * @example\n * const snap = new Snap(lenis, {\n *   type: 'mandatory', // 'mandatory', 'proximity'\n *   lerp: 0.1,\n *   duration: 1,\n *   easing: (t) => t,\n *   onSnapStart: (snap) => {\n *     console.log('onSnapStart', snap)\n *   },\n *   onSnapComplete: (snap) => {\n *     console.log('onSnapComplete', snap)\n *   },\n * })\n *\n * snap.add(500) // snap at 500px\n *\n * const removeSnap = snap.add(500)\n *\n * if (someCondition) {\n *   removeSnap()\n * }\n */\nexport default class Snap {\n  options: RequiredPick<SnapOptions, 'type' | 'velocityThreshold' | 'debounce'>\n  elements = new Map<UID, SnapElement>()\n  snaps = new Map<UID, SnapItem>()\n  viewport = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n  }\n  isStopped = false\n  onSnapDebounced: () => void\n\n  constructor(\n    private lenis: Lenis,\n    {\n      type = 'mandatory',\n      lerp,\n      easing,\n      duration,\n      velocityThreshold = 1,\n      debounce: debounceDelay = 0,\n      onSnapStart,\n      onSnapComplete,\n    }: SnapOptions = {}\n  ) {\n    this.options = {\n      type,\n      lerp,\n      easing,\n      duration,\n      velocityThreshold,\n      debounce: debounceDelay,\n      onSnapStart,\n      onSnapComplete,\n    }\n\n    this.onWindowResize()\n    window.addEventListener('resize', this.onWindowResize, false)\n\n    this.onSnapDebounced = debounce(this.onSnap, this.options.debounce)\n\n    this.lenis.on('scroll', this.onScroll)\n  }\n\n  /**\n   * Destroy the snap instance\n   */\n  destroy() {\n    this.lenis.off('scroll', this.onScroll)\n    window.removeEventListener('resize', this.onWindowResize, false)\n    this.elements.forEach((element) => element.destroy())\n  }\n\n  /**\n   * Start the snap after it has been stopped\n   */\n  start() {\n    this.isStopped = false\n  }\n\n  /**\n   * Stop the snap\n   */\n  stop() {\n    this.isStopped = true\n  }\n\n  /**\n   * Add a snap to the snap instance\n   *\n   * @param value The value to snap to\n   * @param userData User data that will be forwarded through the snap event\n   * @returns Unsubscribe function\n   */\n  add(value: number, userData: UserData = {}) {\n    const id = uid()\n\n    this.snaps.set(id, { value, userData })\n\n    return () => this.remove(id)\n  }\n\n  /**\n   * Remove a snap from the snap instance\n   *\n   * @param id The snap id of the snap to remove\n   */\n  remove(id: UID) {\n    this.snaps.delete(id)\n  }\n\n  /**\n   * Add an element to the snap instance\n   *\n   * @param element The element to add\n   * @param options The options for the element\n   * @returns Unsubscribe function\n   */\n  addElement(element: HTMLElement, options = {} as SnapElementOptions) {\n    const id = uid()\n\n    this.elements.set(id, new SnapElement(element, options))\n\n    return () => this.removeElement(id)\n  }\n\n  /**\n   * Remove an element from the snap instance\n   *\n   * @param id The snap id of the snap element to remove\n   */\n  removeElement(id: UID) {\n    this.elements.delete(id)\n  }\n\n  private onWindowResize = () => {\n    this.viewport.width = window.innerWidth\n    this.viewport.height = window.innerHeight\n  }\n\n  private onScroll = ({\n    // scroll,\n    // limit,\n    lastVelocity,\n    velocity,\n    // isScrolling,\n    userData,\n  }: // isHorizontal,\n  Lenis) => {\n    if (this.isStopped) return\n\n    // return\n    const isDecelerating = Math.abs(lastVelocity) > Math.abs(velocity)\n    const isTurningBack =\n      Math.sign(lastVelocity) !== Math.sign(velocity) && velocity !== 0\n\n    if (\n      Math.abs(velocity) < this.options.velocityThreshold &&\n      // !isTouching &&\n      isDecelerating &&\n      !isTurningBack &&\n      userData?.initiator !== 'snap'\n    ) {\n      this.onSnapDebounced()\n    }\n  }\n\n  private onSnap = () => {\n    let { scroll, isHorizontal } = this.lenis\n    scroll = Math.ceil(this.lenis.scroll)\n\n    let snaps = [...this.snaps.values()] as SnapItem[]\n\n    this.elements.forEach(({ rect, align }) => {\n      let value: number | undefined\n\n      align.forEach((align) => {\n        if (align === 'start') {\n          value = rect.top\n        } else if (align === 'center') {\n          value = isHorizontal\n            ? rect.left + rect.width / 2 - this.viewport.width / 2\n            : rect.top + rect.height / 2 - this.viewport.height / 2\n        } else if (align === 'end') {\n          value = isHorizontal\n            ? rect.left + rect.width - this.viewport.width\n            : rect.top + rect.height - this.viewport.height\n        }\n\n        if (typeof value === 'number') {\n          snaps.push({ value: Math.ceil(value), userData: {} })\n        }\n      })\n    })\n\n    snaps = snaps.sort((a, b) => Math.abs(a.value) - Math.abs(b.value))\n\n    let prevSnap = snaps.findLast(({ value }) => value <= scroll)\n    if (prevSnap === undefined) prevSnap = snaps[0]!\n    const distanceToPrevSnap = Math.abs(scroll - prevSnap.value)\n\n    let nextSnap = snaps.find(({ value }) => value >= scroll)\n    if (nextSnap === undefined) nextSnap = snaps[snaps.length - 1]!\n    const distanceToNextSnap = Math.abs(scroll - nextSnap.value)\n\n    const snap = distanceToPrevSnap < distanceToNextSnap ? prevSnap : nextSnap\n\n    const distance = Math.abs(scroll - snap.value)\n\n    if (\n      this.options.type === 'mandatory' ||\n      (this.options.type === 'proximity' &&\n        distance <=\n          (isHorizontal\n            ? this.lenis.dimensions.width\n            : this.lenis.dimensions.height))\n    ) {\n      // this.__isScrolling = true\n      // this.onSnapStart?.(snap)\n\n      // console.log('scroll to')\n\n      this.lenis.scrollTo(snap.value, {\n        lerp: this.options.lerp,\n        easing: this.options.easing,\n        duration: this.options.duration,\n        userData: { initiator: 'snap' },\n        onStart: () => {\n          this.options.onSnapStart?.(snap)\n        },\n        onComplete: () => {\n          this.options.onSnapComplete?.(snap)\n        },\n      })\n    }\n\n    // console.timeEnd('scroll')\n  }\n}\n"],"mappings":"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","names":["align"]}